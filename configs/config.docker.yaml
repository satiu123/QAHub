# Docker环境配置文件
# 服务器通用配置
server:
  port: 8080
  mode: "release" # Docker环境使用release模式

# 日志配置
log:
  level: "info"
  format: "json"

# MySQL 数据库配置 (Docker容器内部地址)
mysql:
  host: "mariadb"  # 使用Docker Compose服务名
  port: 3306       # 容器内部端口
  user: "qahub_user"
  password: "12345678"
  dbname: "qahub"
  charset: "utf8mb4"
  parseTime: "True"
  loc: "Local"

# Redis 配置 (Docker容器内部地址)
redis:
  addr: "redis:6379"  # 使用Docker Compose服务名和内部端口
  password: "" 
  db: 0

# Kafka 配置 (供搜索和通知服务使用)
kafka:
  brokers:
    - "kafka:9092"
  topics:
    qa_events: "qa_events" # 用于问答服务和搜索服务之间的事件通信
    notification_events: "notification_events" # 用于通知服务的事件通信

# Elasticsearch 配置 (供搜索服务使用)
elasticsearch:
  urls:
    - "http://elasticsearch:9200"

# MongoDB 配置 (供通知服务使用)
mongodb:
  uri: "mongodb://qahub_admin:12345678@mongodb:27017"
  database: "notification_db"

# 服务特有配置
services:
  user_service:
    jwt_secret: "satiu" # 用于生成和验证JWT
    token_expire_hours: 24 # JWT过期时间，单位：小时
    grpc_port: "50051" # gRPC 服务端口
    http_port: "8081" # HTTP 服务端口
  qa_service:
    grpc_port: "50052"
    http_port: "8082"
  search_service:
    grpc_port: "50053"
    http_port: "8083"
  notification_service:
    grpc_port: "50054"
    http_port: "8084"